{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c4f043b713634f75f03c","webpack:///./src/js/util/selector.js","webpack:///./src/js/util/fetch.js","webpack:///./src/js/index.js","webpack:///./src/js/global.js","webpack:///./src/js/app/index.js","webpack:///./src/js/app/research/index.js","webpack:///./src/js/lib/modal/index.js","webpack:///./src/js/lib/tab/index.js","webpack:///./src/js/lib/token/index.js"],"names":["Selector","selector","query","element","document","querySelectorAll","find","addClass","name","el","classList","add","removeClass","remove","attr","value","arguments","length","getAttribute","setAttribute","data","style","window","getComputedStyle","text","textContent","html","innerHTML","on","eventName","handler","options","addEventListener","e","target","matches","off","removeEventListener","trigger","createEvent","initEvent","dispatchEvent","each","callback","res","outerSize","w","offsetWidth","h","offsetHeight","innerSize","clientWidth","clientHeight","offset","rect","getBoundingClientRect","scrollLeft","documentElement","scrollTop","top","left","position","offsetTop","offsetLeft","scroll","prototype","constructor","checkErrorResponse","response","status","error","Error","statusText","global","vhmisApp","app","appsOpenIcon","querySelector","appsCloseIcon","appsMenu","openGlobalMenu","body","closeGlobalMenu","init","submenusTrigger","event","closeSubmenus","forEach","preventDefault","closest","parent","keyCode","apps","research","modal","tab","history","tokenTest","token","getElementById","id","alert","getValue","console","log","DEFAULT_OPTIONS","MODAL_GLOBAL","modalStack","openOverlay","closeOverlay","Modal","control","closeControl","_setEventListener","_initGlobal","showEvent","hide","show","push","hideEvent","_hide","pop","hideGlobal","tagName","currentOpenedModal","tabSelector","TAB_GLOBAL","setTab","state","contentid","tabname","tabName","tabIns","changeByName","count","Tab","tabs","currentTab","currentTabContent","defaultTab","_init","_historyEvent","change","open","contentName","setState","contentUrl","contentLoaded","contentDisplayUrl","fetch","then","pushState","catch","contains","location","pathname","_checkBack","KEY","up","down","right","enter","esc","delete","remoteData","searchDelay","minChar","Token","tokenContainer","tokenInput","tokenSuggestion","tokenList","focus","blur","addItem","toString","item","createElement","appendChild","itemDeleteButton","_deleteItemFromButton","join","_clearSuggestion","deleteItem","index","indexOf","replace","splice","keydown","_selectUp","_selectDown","_addItemFromSelect","_selectTokenLeft","_selectTokenRight","_selectTokenOrDelete","String","fromCharCode","which","setTimeout","_search","current","nextSibling","previousSibling","_addItemFromClick","searching","_searchRemoteData","_filterData","_noDataSuggestion","suggestion","request","requestSearchParam","encodeURI","json","toLowerCase","parentNode","insertBefore","_addEvents"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vhmis-ui\"] = factory();\n\telse\n\t\troot[\"vhmis-ui\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c4f043b713634f75f03c","export function Selector (selector) {\n  this.query = selector\n  this.element = document.querySelectorAll(selector)\n}\n\nfunction find (selector) {\n\n}\n\nfunction addClass (name) {\n  for (var el of this.element) {\n    el.classList.add(name)\n  }\n\n  return this\n}\n\nfunction removeClass (name) {\n  for (var el of this.element) {\n    el.classList.remove(name)\n  }\n\n  return this\n}\n\nfunction attr (name, value) {\n  if (arguments.length < 2) {\n    return this.element.length ? this.element[0].getAttribute(name) : null\n  }\n\n  for (var el of this.element) {\n    el.setAttribute(name, value)\n  }\n}\n\nfunction data (name, value) {\n  name = 'data-' + name\n  return this.attr(name, value)\n}\n\nfunction style (name, value) {\n  if (arguments.length < 2) {\n    return this.element.length ? window.getComputedStyle(this.element[0], null)[name] : null\n  }\n\n  for (var el of this.element) {\n    el.style[name] = value\n  }\n}\n\nfunction text (value) {\n  if (arguments.length < 1) {\n    return this.element.length ? this.element[0].textContent : null\n  }\n\n  for (var el of this.element) {\n    el.textContent = value\n  }\n}\n\nfunction html (value) {\n  if (arguments.length < 1) {\n    return this.element.length ? this.element[0].innerHTML : null\n  }\n\n  for (var el of this.element) {\n    el.innerHTML = value\n  }\n}\n\nfunction on (selector, eventName, handler, options) {\n  if (typeof eventName === 'string') {\n    for (var el of this.element) {\n      el.addEventListener(eventName, e => {\n        let target = e.target\n        if (target && target.matches(selector)) {\n          handler(e)\n        }\n      })\n    }\n\n    return\n  }\n\n  for (var el of this.element) {\n    el.addEventListener(selector, eventName)\n  }\n}\n\nfunction off (eventName, handler, options) {\n  for (var el of this.element) {\n    el.removeEventListener(eventName, handler)\n  }\n}\n\nfunction trigger (eventName) {\n  for (var el of this.element) {\n    let e = document.createEvent('HTMLEvents')\n    e.initEvent(eventName, false, true)\n    el.dispatchEvent(e)\n  }\n}\n\nfunction each (callback) {\n  for (var el of this.element) {\n    let res = callback(el)\n    if (res === false) return\n  }\n}\n\nfunction outerSize () {\n  return this.element.length ? { w: this.element[0].offsetWidth, h: this.element[0].offsetHeight } : null\n}\n\nfunction innerSize () {\n  return this.element.length ? { w: this.element[0].clientWidth, h: this.element[0].clientHeight } : null\n}\n\nfunction offset () {\n  if (!this.element.length) return null\n\n  let el = this.element[0]\n  let rect = el.getBoundingClientRect()\n  let scrollLeft = document.documentElement.scrollLeft\n  let scrollTop = document.documentElement.scrollTop\n\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft }\n}\n\nfunction position () {\n  return this.element.length ? { top: this.element[0].offsetTop, left: this.element[0].offsetLeft } : null\n}\n\nfunction scroll () {\n  return this.element.length ? { top: this.element[0].scrollTop, left: this.element[0].scrollLeft } : null\n}\n\nfunction scrollTop (value) {\n  if (arguments.length < 1) {\n    return this.element[0].scrollTop\n  }\n\n  for (var el of this.element) {\n    el.scrollTop = value\n  }\n}\n\nfunction scrollLeft (value) {\n  if (arguments.length < 1) {\n    return this.element[0].scrollLeft\n  }\n\n  for (var el of this.element) {\n    el.scrollLeft = value\n  }\n}\n\nSelector.prototype = {\n  constructor: Selector,\n  data: data,\n  addClass: addClass,\n  removeClass: removeClass,\n  attr: attr,\n  style: style,\n  on: on,\n  off: off,\n  trigger: trigger,\n  each: each,\n  outerSize: outerSize,\n  innerSize: innerSize,\n  offset: offset,\n  position: position,\n  scroll: scroll,\n  scrollTop: scrollTop,\n  scrollLeft: scrollLeft,\n  text: text,\n  html: html\n}\n\nexport default function (selector) {\n  return new Selector(selector)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/selector.js","// Một số hàm hỗ trợ thêm cho request qua fetch API\n\nexport function checkErrorResponse (response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  } else {\n    var error = new Error(response.statusText)\n    error.response = response\n    throw error\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/fetch.js","import global from './global'\nimport app from './app'\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  global()\n\n  if (typeof vhmisApp === 'object') {\n    app[vhmisApp.name]()\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","// Polyfill check\n// Element.closest()\n// Element.classList.toggle()\n\nlet appsOpenIcon = document.querySelector('.extra-menu--apps-open-icon')\nlet appsCloseIcon = document.querySelector('.page-menu--apps-close-icon')\nlet appsMenu = document.querySelector('.page-menu')\n\nlet openGlobalMenu = () => {\n  appsMenu.classList.add('is-active')\n  document.body.classList.add('is-active-overlay')\n}\n\nlet closeGlobalMenu = () => {\n  appsMenu.classList.remove('is-active')\n  document.body.classList.remove('is-active-overlay')\n}\n\nexport default function init () {\n  appsOpenIcon.addEventListener('click', function (e) {\n    openGlobalMenu()\n  })\n  appsCloseIcon.addEventListener('click', function (e) {\n    closeGlobalMenu()\n  })\n\n  // Submenu open & close\n  var submenusTrigger = document.querySelectorAll('.has-submenu > a')\n\n  if ('ontouchstart' in document.documentElement) {\n    document.addEventListener('touchstart', function (event) {\n      closeSubmenus(event.target)\n    })\n  }\n\n  document.addEventListener('click', function (event) {\n    closeSubmenus(event.target)\n  })\n\n  submenusTrigger.forEach(function (el) {\n    el.addEventListener('click', function (event) {\n      event.preventDefault()\n      el.closest('.has-submenu').classList.add('is-active')\n    })\n  })\n\n  function closeSubmenus (target) {\n    var parent = !target ? null : target.closest('.has-submenu')\n    submenusTrigger.forEach(function (el) {\n      el = el.closest('.has-submenu')\n      if (parent !== null && parent === el) {\n        return\n      }\n      el.classList.remove('is-active')\n    })\n  }\n\n  // Esc key to close all submenu and global menu\n  document.addEventListener('keydown', e => {\n    if (e.keyCode === 27) {\n      closeGlobalMenu()\n      closeSubmenus(null)\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/global.js","import research from './research'\n\nlet apps = {\n  research: research\n}\n\nexport default apps\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/index.js","import {default as modal} from '../../lib/modal'\nimport {default as tab} from '../../lib/tab'\nimport token from '../../lib/token'\n\nexport default function () {\n  modal('#modal-open', '#modal', {})\n  modal('#othermodalbutton', '#othermodal', {})\n  tab('#tabs', {})\n  tab('#tabs-2', {\n    history: true\n  })\n\n  let tokenTest = token(document.getElementById('test-token'), {\n    // remoteData: '../data/data.json',\n    // requestMethod: 'get',\n    // requestSearchParam: 'query',\n    data: [\n      {\n        id: 2,\n        name: 'England'\n      },\n      {\n        id: 1,\n        name: 'Italy'\n      },\n      {\n        id: 41,\n        name: 'France'\n      },\n      {\n        id: 16,\n        name: 'Estonia'\n      },\n      {\n        id: 91,\n        name: 'Vietnam'\n      }\n    ]\n  })\n  document.getElementById('get-token-value').addEventListener('click', e => {\n    window.alert(tokenTest.getValue())\n  })\n\n  console.log('call app init research')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/research/index.js","import selector from '../../util/selector'\n\nconst DEFAULT_OPTIONS = {\n  element: null\n}\n\nlet MODAL_GLOBAL = {\n  init: false,\n  modalStack: [],\n  openOverlay: () => {\n    document.getElementById('overlay').classList.add('is-active')\n    document.body.classList.add('is-active-overlay')\n  },\n  closeOverlay: () => {\n    document.getElementById('overlay').classList.remove('is-active')\n    document.body.classList.remove('is-active-overlay')\n  }\n}\n\nclass Modal {\n  constructor (control, element, options) {\n    options = {...DEFAULT_OPTIONS, ...options}\n\n    this.control = selector(control)\n    this.element = selector(element)\n    this.options = options\n\n    this.closeControl = this.element.element[0].querySelectorAll('.modal--close')\n\n    this._setEventListener()\n\n    if (!MODAL_GLOBAL.init) {\n      this._initGlobal()\n    }\n  }\n\n  showEvent (e) {\n    e.preventDefault()\n\n    if (MODAL_GLOBAL.modalStack.length > 0) {\n      MODAL_GLOBAL.modalStack[MODAL_GLOBAL.modalStack.length - 1].hide()\n    } else {\n      MODAL_GLOBAL.openOverlay()\n    }\n\n    this.show()\n    MODAL_GLOBAL.modalStack.push(this)\n  }\n\n  hideEvent (e) {\n    if (e.target === this.closeControl || e.target.closest('.modal--close')) {\n      e.preventDefault()\n      this.hide()\n      this._hide()\n    }\n  }\n\n  _hide() {\n    MODAL_GLOBAL.modalStack.pop()\n\n    if (MODAL_GLOBAL.modalStack.length === 0) {\n      return MODAL_GLOBAL.closeOverlay()\n    }\n\n    MODAL_GLOBAL.modalStack[MODAL_GLOBAL.modalStack.length - 1].show()\n  }\n\n  hide() {\n    this.element.removeClass('is-active')\n  }\n\n  show() {\n    this.element.addClass('is-active')\n  }\n\n  _setEventListener () {\n    for (const closeControl of this.closeControl) {\n      closeControl.addEventListener('click', e => this.hideEvent(e))\n    }\n\n    if (this.options.element !== null) {\n      this.control.on(this.options.element, 'click', e => this.showEvent(e))\n      return\n    }\n\n    this.control.on('click', e => this.showEvent(e))\n  }\n\n  _initGlobal () {\n    document.getElementById('overlay').addEventListener('click', e => Modal.hideGlobal(e))\n    document.addEventListener('keydown', e => Modal.hideGlobal(e))\n\n    MODAL_GLOBAL.init = true\n  }\n\n  static hideGlobal(e) {\n    if (MODAL_GLOBAL.modalStack.length === 0) {\n      return\n    }\n\n    // Bỏ qua nếu là element phát sinh là input, textarea\n    if (e.target.tagName  === 'INPUT' || e.target.tagName  === 'TEXTAREA') {\n      return\n    }\n\n    if (e.target.id === 'overlay' || e.keyCode === 27) {\n      let currentOpenedModal = MODAL_GLOBAL.modalStack.pop()\n      currentOpenedModal.hide()\n\n      if (MODAL_GLOBAL.modalStack.length === 0) {\n        return MODAL_GLOBAL.closeOverlay()\n      }\n\n      MODAL_GLOBAL.modalStack[MODAL_GLOBAL.modalStack.length - 1].show()\n    }\n  }\n}\n\nexport default function (control, element, options) {\n  return new Modal(control, element, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/modal/index.js","import selector from '../../util/selector'\nimport { checkErrorResponse } from '../../util/fetch'\n\nconst DEFAULT_OPTIONS = {\n  tabSelector: '.tab',\n  history: false\n}\n\nlet TAB_GLOBAL = {\n  setTab: (state) => {\n    let contentid = state.contentid\n    let tabname = state.tabName\n    TAB_GLOBAL.tabIns[tabname].changeByName(contentid)\n  },\n  tabIns: {},\n  count: 1,\n  init: false\n}\n\nclass Tab {\n  constructor (element, options) {\n    options = {...DEFAULT_OPTIONS, ...options}\n\n    this.element = selector(element)\n    this.options = options\n    this.tabs = this.element.element[0].querySelectorAll(this.options.tabSelector)\n    this.currentTab = null\n    this.currentTabContent = null\n    this.defaultTab = null\n    this.tabName = \"tabs\" + TAB_GLOBAL.count\n\n    this._init()\n\n    TAB_GLOBAL.count++\n    TAB_GLOBAL.tabIns[this.tabName] = this\n    if (!TAB_GLOBAL.init) {\n      this._historyEvent()\n    }\n  }\n\n  change (e) {\n    e.preventDefault()\n    let tab = e.target.closest(this.options.tabSelector)\n\n    this.open(tab, true)\n  }\n\n  changeByName (contentName, setState = false) {\n    for (const tab of this.tabs) {\n      if (tab.getAttribute('data-contentid') === contentName) {\n        return this.open(tab, setState)\n      }\n    }\n  }\n\n  open (tab, setState = false) {\n    if (this.currentTab !== null) {\n      this.currentTab.classList.remove('is-active')\n      this.currentTabContent.classList.remove('is-active')\n    }\n\n    this.currentTab = tab\n    this.currentTabContent = document.getElementById(this.currentTab.getAttribute('data-contentid'))\n    this.currentTab.classList.add('is-active')\n    this.currentTabContent.classList.add('is-active')\n\n    let contentUrl = this.currentTab.getAttribute('data-contenturl')\n    let contentLoaded = this.currentTab.getAttribute('data-contentloaded')\n    let contentDisplayUrl = this.currentTab.getAttribute('data-contentdisplayurl')\n\n    if (contentUrl !== null && contentLoaded !== '1') {\n      fetch(contentUrl)\n        .then(checkErrorResponse)\n        .then(res => {\n          return res.text()\n        })\n        .then(data => {\n          this.currentTabContent.innerHTML = data\n          this.currentTab.setAttribute('data-contentloaded', '1')\n          if (this.options.history && setState) {\n            history.pushState({\n              tabName: this.tabName,\n              contentid: this.currentTab.getAttribute('data-contentid')\n            }, 'A', contentDisplayUrl)\n          }\n        })\n        .catch(e => {\n          console.log(e)\n          this.currentTabContent.innerHTML = 'Lỗi'\n        })\n\n      return\n    }\n\n    if (this.options.history && setState) {\n      history.pushState({\n        tabName: this.tabName,\n        contentid: this.currentTab.getAttribute('data-contentid')\n      }, null, contentDisplayUrl)\n    }\n  }\n\n  _init () {\n    for (const tab of this.tabs) {\n      tab.addEventListener('click', e => this.change(e))\n\n      if (tab.classList.contains('is-active')) {\n        this.defaultTab = tab\n        this.open(tab, false)\n        break\n      }\n\n      if (tab.getAttribute('data-contentdisplayurl') === window.location.pathname) {\n        this.defaultTab = tab\n        this.open(tab, false)\n        break\n      }\n    }\n\n    if (this.currentTab === null) {\n      this.defaultTab = this.tabs[0]\n      this.open(this.tabs[0], false)\n    }\n\n    if (this.options.history) {\n      window.addEventListener('popstate', e => this._checkBack(e))\n    }\n  }\n\n  _checkBack (e) {\n    if (e.state === null) {\n      this.open(this.defaultTab, false)\n    }\n  }\n\n  _historyEvent () {\n    TAB_GLOBAL.init = true\n    window.addEventListener('popstate', e => {\n      if (e.state !== null && e.state.tabName !== null) {\n        TAB_GLOBAL.setTab(e.state)\n      }\n    })\n  }\n}\n\nexport default function (element, options) {\n  return new Tab(element, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/tab/index.js","import checkErrorResponse from '../../util/fetch'\n\nconst KEY = {\n  up: 38,\n  down: 40,\n  left: 37,\n  right: 39,\n  enter: 13,\n  esc: 27,\n  delete: 8\n}\n\nconst DEFAULT_OPTIONS = {\n  remoteData: null,\n  searchDelay: 500,\n  minChar: 3\n}\n\nclass Token {\n  constructor (element, options) {\n    this.element = element\n    this.options = {...DEFAULT_OPTIONS, ...options}\n    this.token = null\n    this.tokenContainer = null\n    this.tokenInput = null\n    this.tokenSuggestion = null\n    this.tokenList = null\n    this.value = []\n    this.data = this.options.data ? this.options.data : []\n\n    // Khởi tạo\n    this._init()\n  }\n\n  // Lấy giá trị\n  getValue () {\n    return this.element.value\n  }\n\n  // Khi người dùng focus vào input giả\n  focus (e) {\n    // Thiết lập focus mod cho input ảo\n    this.token.classList.add('is-active')\n\n    // Hiển thị token sugggestion\n    this.tokenSuggestion.classList.add('is-active')\n  }\n\n  blur (e) {\n    // console.log(e)\n    if (e.target.closest('.token--suggestion')) {\n      return\n    }\n\n    // Thiết lập focus mod cho input ảo\n    this.token.classList.remove('is-active')\n\n    // Hiển thị token sugggestion\n    this.tokenSuggestion.classList.remove('is-active')\n\n    // Xóa value\n    this.tokenInput.value = ''\n  }\n\n  addItem (data) {\n    // Bỏ qua nếu đã chọn rồi\n    if (this.value.find((value) => {\n      return data.id.toString() === value.toString()\n    })) {\n      return\n    }\n\n    // Tạo item, set event\n    let item = document.createElement('li')\n    item.setAttribute('data-id', data.id)\n    item.classList.add('token-item')\n    item.innerHTML = data.name + ' <span class=\"tọken-item--delete\"><i class=\"fas fa-times\"></i></span>'\n    this.tokenList.appendChild(item)\n    let itemDeleteButton = item.querySelector('.tọken-item--delete')\n    if (itemDeleteButton) {\n      itemDeleteButton.addEventListener('click', e => this._deleteItemFromButton(e))\n    }\n\n    this.value.push(data.id)\n    this.element.value = this.value.join(',')\n\n    this.tokenInput.value = ''\n    this._clearSuggestion()\n  }\n\n  _deleteItemFromButton (e) {\n    let item = e.target.closest('.token-item')\n    if (!item) {\n      return\n    }\n\n    this.deleteItem(item.getAttribute('data-id'))\n  }\n\n  deleteItem (value) {\n    let index = this.value.indexOf(value)\n\n    // Bỏ qua nếu chưa có\n    if (index === -1) {\n      return\n    }\n\n    // Xóa trong token list\n    let item = this.tokenList.querySelector('.token-item[data-id=\"' + value.replace('\"', '\\\\\"') + '\"]')\n    item.remove()\n\n    // Cập nhật lại giá trị mới\n    this.value.splice(index, 1)\n    this.element.value = this.value.join(',')\n  }\n\n  keydown (e) {\n    if (e.keyCode === KEY.up) {\n      return this._selectUp()\n    }\n\n    if (e.keyCode === KEY.down) {\n      return this._selectDown()\n    }\n\n    if (e.keyCode === KEY.enter) {\n      return this._addItemFromSelect()\n    }\n\n    if (e.keyCode === KEY.left && this.tokenInput.value === '') {\n      return this._selectTokenLeft()\n    }\n\n    if (e.keyCode === KEY.right && this.tokenInput.value === '') {\n      return this._selectTokenRight()\n    }\n\n    if (e.keyCode === KEY.right && this.tokenInput.value === '') {\n      return this._selectTokenRight()\n    }\n\n    if (e.keyCode === KEY.delete && this.tokenInput.value === '') {\n      return this._selectTokenOrDelete()\n    }\n\n    if (String.fromCharCode(e.which)) {\n      // Gọi sau 5ms, đảm bảo event này thực hiện xong, khi đó lấy giá trị value sẽ có ký tự mới gõ\n      setTimeout(() => { this._search() }, 5)\n    }\n  }\n\n  _selectDown () {\n    let current = this.tokenSuggestion.querySelector('.dropdown-item.is-active')\n\n    if (current === null) {\n      this.tokenSuggestion.querySelector('.dropdown-item').classList.add('is-active')\n      return\n    }\n\n    if (current.nextSibling) {\n      current.classList.remove('is-active')\n      current.nextSibling.classList.add('is-active')\n    }\n  }\n\n  _selectTokenOrDelete () {\n    let item = this.tokenList.querySelector('.token-item.is-active')\n\n    if (item === null) {\n      this.tokenList.querySelector('.token-item:last-child').classList.add('is-active')\n      return\n    }\n\n    // Xóa\n    this.deleteItem(item.getAttribute('data-id'))\n  }\n\n  _selectTokenLeft () {\n    let current = this.tokenList.querySelector('.token-item.is-active')\n\n    if (current === null) {\n      this.tokenList.querySelector('.token-item:last-child').classList.add('is-active')\n      return\n    }\n\n    if (current.previousSibling) {\n      current.classList.remove('is-active')\n      current.previousSibling.classList.add('is-active')\n    }\n  }\n\n  _selectTokenRight () {\n    let current = this.tokenList.querySelector('.token-item.is-active')\n\n    if (current === null) {\n      this.tokenList.querySelector('.token-item').classList.add('is-active')\n      return\n    }\n\n    if (current.nextSibling) {\n      current.classList.remove('is-active')\n      current.nextSibling.classList.add('is-active')\n    }\n  }\n\n  _selectUp () {\n    let current = this.tokenSuggestion.querySelector('.dropdown-item.is-active')\n\n    if (current === null) {\n      this.tokenSuggestion.querySelector('.dropdown-item:last-child').classList.add('is-active')\n      return\n    }\n\n    if (current.previousSibling) {\n      current.classList.remove('is-active')\n      current.previousSibling.classList.add('is-active')\n    }\n  }\n\n  _addItemFromSelect () {\n    let current = this.tokenSuggestion.querySelector('.dropdown-item.is-active')\n\n    if (current === null) {\n      return\n    }\n\n    this.addItem({\n      name: current.getAttribute('data-name'),\n      id: current.getAttribute('data-id')\n    })\n  }\n\n  _addItemFromClick (item) {\n    this.addItem({\n      name: item.getAttribute('data-name'),\n      id: item.getAttribute('data-id')\n    })\n  }\n\n  async _search () {\n    let value = this.tokenInput.value\n    this.searching = true\n\n    if (value.length < this.options.minChar) {\n      return this._clearSuggestion()\n    }\n\n    if (this.options.remoteData !== null) {\n      this.data = await this._searchRemoteData(value)\n    } else {\n      this.data = this._filterData(value)\n    }\n\n    // Chỉ hiện kết quả nếu giá trị tìm kiếm vẫn giữ nguyên sau khi request search xong\n    if (value !== this.tokenInput.value) {\n      console.log(value)\n      return\n    }\n\n    if (this.data.length === 0) {\n      return this._noDataSuggestion()\n    }\n\n    let suggestion = '<ul class=\"dropdown-content\">';\n    for (let data of this.data) {\n      suggestion += '<li class=\"dropdown-item\" data-id=\"' + data.id + '\" data-name=\"' + data.name.replace('\"', '\\\\\"') + '\"><a href=\"\">' + data.name + '</a></li>'\n    }\n    suggestion += '</ul>';\n\n    this.tokenSuggestion.innerHTML = suggestion\n    this.searching = false\n  }\n\n  async _searchRemoteData (value) {\n    let request = this.options.remoteData + '?' + this.options.requestSearchParam + '=' + value\n    let data = await (await fetch(encodeURI(request))).json()\n    return data\n  }\n\n  _filterData (value) {\n    let data = []\n    this.options.data.forEach(element => {\n      if (element.name.toLowerCase().indexOf(value.toLowerCase()) > -1) {\n        data.push(element)\n      }\n    })\n\n    return data\n  }\n\n  _clearSuggestion () {\n    this.tokenSuggestion.innerHTML = '<div class=\"dropdown-text token-message\">Gõ vài ký tự để tìm kiếm</div>'\n  }\n\n  _noDataSuggestion () {\n    this.tokenSuggestion.innerHTML = '<div class=\"dropdown-text token-message\">Không tìm thấy kết quả phù hợp</div>'\n  }\n\n  _init () {\n    // ẩn input thiệt\n    this.element.style['display'] = 'none'\n\n    // tạo token container\n    this.tokenContainer = document.createElement('div')\n    this.tokenContainer.classList.add('token--container')\n    this.element.parentNode.insertBefore(this.tokenContainer, this.element.nextSibling)\n\n    // tạo token\n    this.token = document.createElement('div')\n    this.token.classList.add('token')\n    this.token.classList.add('input')\n    this.tokenContainer.appendChild(this.token)\n\n    // tạo token list\n    this.tokenList = document.createElement('ul')\n    this.tokenList.classList.add('token--list')\n    this.token.appendChild(this.tokenList)\n\n    // tạo input giả\n    this.tokenInput = document.createElement('input')\n    this.tokenInput.setAttribute('type', 'text')\n    this.tokenInput.setAttribute('placeholder', 'Type and search')\n    this.tokenInput.classList.add('token--input')\n    this.token.appendChild(this.tokenInput)\n\n    // tạo token suggestion\n    this.tokenSuggestion = document.createElement('div')\n    this.tokenSuggestion.classList.add('token--suggestion')\n    this.tokenSuggestion.classList.add('dropdown-menu')\n    this.tokenContainer.appendChild(this.tokenSuggestion)\n\n    // Trạng thái mặc định của token suggestion\n    this._clearSuggestion()\n\n    // Event\n    this._addEvents()\n  }\n\n  _addEvents () {\n    this.tokenInput.addEventListener('focus', e => this.focus(e))\n    this.tokenInput.addEventListener('blur', e => this.blur(e))\n    this.tokenInput.addEventListener('keydown', e => this.keydown(e))\n\n    // Not Click but mousedown\n    this.tokenSuggestion.addEventListener('mousedown', e => {\n      e.preventDefault()\n    })\n    this.tokenSuggestion.addEventListener('click', e => {\n      e.preventDefault()\n      if (e.target && e.target.closest('.dropdown-item')) {\n        let item = e.target.closest('.dropdown-item')\n        this._addItemFromClick(item)\n      }\n    })\n  }\n}\n\nexport default function (element, options) {\n  return new Token(element, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/token/index.js"],"sourceRoot":""}